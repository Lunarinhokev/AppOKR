<h1>GerenciApp</h1>

<div class="container">
  
  <!-- Botão + -->
<button class="btn-adicionar" (click)="mostrarOpcao = !mostrarOpcao">+</button>

<!-- Menu flutuante acima do botão -->
<div *ngIf="mostrarOpcao" class="menu-flutuante">
  <button class="opcao" (click)="adicionarPanel('controle')">
    Criar Tela de Controle
  </button>
  <button class="opcao" (click)="adicionarPanel('relatorio')">
    Criar Tela de Relatório
  </button>
</div>


  <!-- Renderiza os panels dinamicamente com drag-drop -->
  <div cdkDropList class="panels" (cdkDropListDropped)="drop($event)">
  <div *ngFor="let p of panels; let i = index" cdkDrag>

    <app-control-panel 
      *ngIf="p.type==='controle'" 
      (remove)="panels.splice(i,1)">
    </app-control-panel>

   <div *ngIf="p.type==='relatorio'" class="card">
  <div class="card-top">
    <span class="card-title">Relatório</span>
    <button class="btn-fechar" (click)="panels.splice(i, 1)">×</button>
  </div>
  <div class="card-body">
    <p>Tela de Relatório (em construção)</p>
  </div>
</div>
  </div>
  </div>
</div>
